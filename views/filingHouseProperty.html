<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-content" ng-controller="filingHouseCtrl" data-ng-init="init()">
                    <div ng-show="AddProp">
                        <form class="form-horizontal" role="form" name="filingHouseProperty" id="filingHouseProperty"
                              novalidate>
                            <div class="form-group required" ng-show="propertyList.length == 0">
                                <label class="control-label col-sm-5">Do you own a House Property?</label>
                                <div class="col-sm-7">
                                    <label class="checkbox-inline" for="ownHouse_yes">
                                        <input icheck type="radio" id="ownHouse_yes" name="houseOwn"
                                               ng-model="housePropertyData.houseProp" value="yes">
                                        Yes
                                    </label>
                                    <label class="checkbox-inline" for="ownHouse_no">
                                        <input icheck type="radio" id="ownHouse_no" name="houseOwn"
                                               ng-model="housePropertyData.houseProp" value="no">
                                        No
                                    </label>
                                </div>
                            </div>
                            <div ng-show="housePropertyData.houseProp == 'yes'">
                                <div class="form-group required">
                                    <label class="control-label col-sm-5">What is the nature of the house
                                        property?</label>
                                    <div class="col-sm-7">
                                        <span class="" tooltip-placement="bottom"
                                              uib-tooltip="As per Income Tax rules, only one property can be considered as self - occupied. The other properties owned by a person have to be either shown as rented (in case where it is given on rent) or deemed rented (in case it is vacant or occupied by relatives)">
                                            <i class="fa fa-info-circle"></i>
                                                 </span>
                                        <label class="checkbox-inline" for="houseType_selfocc">
                                            <input icheck type="radio" id="houseType_selfocc" name="houseType"
                                                   ng-model="housePropertyData.propType" value="selfOccupied">
                                            Self occupied
                                        </label>
                                        <label class="checkbox-inline" for="houseType_rented">
                                            <input icheck type="radio" id="houseType_rented" name="houseType"
                                                   ng-model="housePropertyData.propType" value="rented">
                                            Rented
                                        </label>
                                        <label class="checkbox-inline" for="houseType_underCons">
                                            <input icheck type="radio" id="houseType_underCons" name="houseType"
                                                   ng-model="housePropertyData.propType" value="deemedLetOut">
                                            Deemed Let Out
                                        </label>
                                    </div>
                                </div>
                                <!-- Self Occupied -->
                                <div ng-show="housePropertyData.propType == 'selfOccupied' || housePropertyData.propType == 'rented' || housePropertyData.propType == 'deemedLetOut'">
                                    <div class="form-group required"
                                         ng-class="{ 'has-error' : filingHouseProperty.residenceAddress.$invalid && filingHouseProperty.residenceAddress.$dirty }">
                                        <label class="control-label col-sm-5" for="residenceAddress">Residence
                                            Address</label>
                                        <div class="col-sm-6">
                                            <input type="text" id="residenceAddress" class="form-control"
                                                   name="residenceAddress"
                                                   required
                                                   ng-model="housePropertyData.address"
                                                   ng-minlength="1"
                                                   ng-maxlength="55"
                                                   placeholder=" Enter address "
                                            />
                                            <div ng-show="filingHouseProperty.residenceAddress.$invalid && filingHouseProperty.residenceAddress.$dirty">
                                                <p ng-show="filingHouseProperty.residenceAddress.$error.required"
                                                   class="help-block">
                                                    Address is required
                                                </p>
                                                <p ng-show="filingHouseProperty.residenceAddress.$error.minlength"
                                                   class="help-block">
                                                    Address Atleast 1 Character
                                                </p>
                                                <p ng-show="filingHouseProperty.residenceAddress.$error.maxlength"
                                                   class="help-block">
                                                    Address cannot exceed 55 Characters
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group required"
                                         ng-class="{ 'has-error' : filingHouseProperty.pincode.$invalid && filingHouseProperty.pincode.$dirty }">
                                        <label class="control-label col-sm-5" for="pincode">Pin code</label>
                                        <div class="col-sm-6">
                                            <input type="text" id="pincode"
                                                   class="form-control"
                                                   name="pincode"
                                                   ng-pattern="/^[1-9][0-9]{5}$/"
                                                   ng-model="housePropertyData.pincode"
                                                   required placeholder="Pin code"
                                            />
                                            <div ng-show="filingHouseProperty.pincode.$invalid && filingHouseProperty.pincode.$dirty">
                                                <p ng-show="filingHouseProperty.pincode.$error.required"
                                                   class="help-block">
                                                    Pin code is required
                                                </p>
                                                <p ng-show="filingHouseProperty.pincode.$error.pattern"
                                                   class="help-block">
                                                    Enter a valid 6 digits pin code
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group required">
                                        <label class="control-label col-sm-5">Is the property co-owned?</label>
                                        <div class="col-sm-6">
                                            <label class="checkbox-inline" for="propertyOwn_yes">
                                                <input icheck type="radio" id="propertyOwn_yes" name="propertyOwn"
                                                       ng-model="housePropertyData.coOwned" value="yes">
                                                Yes
                                            </label>
                                            <label class="checkbox-inline" for="propertyOwn_no">
                                                <input icheck type="radio" id="propertyOwn_no" name="propertyOwn"
                                                       ng-model="housePropertyData.coOwned" value="no">
                                                No
                                            </label>
                                        </div>
                                    </div>
                                    <!-- if user select yes -->
                                    <div ng-show="housePropertyData.coOwned == 'yes'">
                                        <div class="form-group required"
                                             ng-class="{ 'has-error' : filingHouseProperty.coOwnerName.$invalid && filingHouseProperty.coOwnerName.$dirty }">
                                            <label class="control-label col-sm-5">Name of the co-owner</label>
                                            <div class="col-sm-6">
                                                <input type="text" id="coOwnerName" class="form-control"
                                                       name="coOwnerName"
                                                       ng-model="housePropertyData.coOwnerName"
                                                       ng-pattern="/^[a-zA-Z\s]*$/"
                                                       ng-minlength="1"
                                                       ng-maxlength="50"
                                                       placeholder="Enter co-owner name "
                                                       ng-required="housePropertyData.coOwned == 'yes'"
                                                />
                                                <div ng-show="filingHouseProperty.coOwnerName.$invalid && filingHouseProperty.coOwnerName.$dirty">
                                                    <p ng-show="filingHouseProperty.coOwnerName.$error.required"
                                                       class="help-block">
                                                        Name is required
                                                    </p>
                                                    <p ng-show="filingHouseProperty.coOwnerName.$error.pattern"
                                                       class="help-block">
                                                        Name is invalid
                                                    </p>
                                                    <p ng-show="filingHouseProperty.coOwnerName.$error.minlength"
                                                       class="help-block">
                                                        Name should Atleast 1 Character
                                                    </p>
                                                    <p ng-show="filingHouseProperty.coOwnerName.$error.maxlength"
                                                       class="help-block">
                                                        Name cannot exceed 50 characters
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group "
                                             ng-class="{ 'has-error' : filingHouseProperty.coOwnerPAN.$invalid && filingHouseProperty.coOwnerPAN.$dirty }">
                                            <label class="control-label col-sm-5">PAN of the co-owner</label>
                                            <div class="col-sm-6">
                                                <input type="text" id="coOwnerPAN" class="form-control"
                                                       name="coOwnerPAN"
                                                       ng-model="housePropertyData.coOwnerPAN"
                                                       ng-pattern="/^([a-zA-Z]{3})(p|P)([a-zA-Z]{1})(\d{4})([a-zA-Z]{1})$/"
                                                       placeholder="Enter PAN of co-owner "
                                                />
                                                <div ng-show="filingHouseProperty.coOwnerPAN.$invalid && filingHouseProperty.coOwnerPAN.$dirty">
                                                    <p ng-show="filingHouseProperty.coOwnerPAN.$error.pattern"
                                                       class="help-block">
                                                        Invalid PAN
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group required"
                                             ng-class="{ 'has-error' : filingHouseProperty.shareCoOwner.$invalid && filingHouseProperty.shareCoOwner.$dirty }">
                                            <label class="control-label col-sm-5">Percentage share of the
                                                co-owner</label>
                                            <div class="col-sm-6">
                                                <input type="number" id="shareCoOwner" class="form-control"
                                                       name="shareCoOwner"
                                                       ng-model="housePropertyData.coOwnerShare"
                                                       ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
                                                       min="1" max="100"
                                                       required
                                                       placeholder="Enter percentage share of co-owner"
                                                       ng-required="housePropertyData.coOwned == 'yes'"
                                                />
                                                <span ng-hide="filingHouseProperty.shareCoOwner.$invalid && filingHouseProperty.shareCoOwner.$dirty"
                                                      class="help-block">{{shareInWords}}</span>
                                                <div ng-show="filingHouseProperty.shareCoOwner.$invalid && filingHouseProperty.shareCoOwner.$dirty">
                                                    <p ng-show="filingHouseProperty.shareCoOwner.$error.pattern"
                                                       class="help-block">
                                                        Decimal allowed up to 2 places
                                                    </p>
                                                    <p ng-show="filingHouseProperty.shareCoOwner.$error.required"
                                                       class="help-block">
                                                        Percentage is required
                                                    </p>
                                                    <p ng-show="filingHouseProperty.shareCoOwner.$error.pattern"
                                                       class="help-block">
                                                        Percentage is invalid
                                                    </p>
                                                    <p ng-show="filingHouseProperty.shareCoOwner.$error.min"
                                                       class="help-block">
                                                        Minimum percentage is 1%
                                                    </p>
                                                    <p ng-show="filingHouseProperty.shareCoOwner.$error.max"
                                                       class="help-block">
                                                        Percentage should be between 1% to 100%
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <div ng-show="housePropertyData.propType == 'deemedLetOut'">
                                            <div class="form-group required"
                                                 ng-class="{ 'has-error' : filingHouseProperty.annualRentValue.$invalid && filingHouseProperty.annualRentValue.$dirty }">
                                                <label class="control-label col-sm-5">Annual rentable value</label>
                                                <div class="col-sm-6">
                                                    <input type="number" id="annualRentValue" class="form-control"
                                                           name="annualRentValue"
                                                           ng-model="housePropertyData.annualRent"
                                                           ng-pattern="/^[0-9]*$/"
                                                           min="100" max="50000000"
                                                           placeholder="Enter the probable rent that can be earned on the property"
                                                           ng-required="housePropertyData.propType == 'deemedLetOut'"
                                                    />
                                                    <div ng-show="filingHouseProperty.annualRentValue.$invalid && filingHouseProperty.annualRentValue.$dirty">
                                                        <p ng-show="filingHouseProperty.annualRentValue.$error.pattern"
                                                           class="help-block">
                                                            Amount in rupees
                                                        </p>
                                                        <p ng-show="filingHouseProperty.annualRentValue.$error.min"
                                                           class="help-block">
                                                            Minimum amount is Rs.100
                                                        </p>
                                                        <p ng-show="filingHouseProperty.annualRentValue.$error.max"
                                                           class="help-block">
                                                            Maximum amount is 5 crore
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- prop tax-->
                                            <!--<div class="form-group "-->
                                                 <!--ng-class="{ 'has-error' : filingHouseProperty.annualRentValue.$invalid && filingHouseProperty.annualRentValue.$dirty }">-->
                                                <!--<label class="control-label col-sm-5">Property taxes paid during the year</label>-->
                                                <!--<div class="col-sm-6">-->
                                                    <!--<input type="number" id="propTaxAnuaaly" class="form-control"-->
                                                           <!--name="propTaxAnuaaly"-->
                                                           <!--ng-model="housePropertyData.propTax"-->
                                                           <!--ng-pattern="/^[0-9]*$/"-->
                                                           <!--min="100" max="10000000"-->
                                                           <!--placeholder="Enter property tax amount paid in current year"-->
                                                    <!--/>-->
                                                    <!--<div ng-show="filingHouseProperty.propTaxAnuaaly.$invalid && filingHouseProperty.propTaxAnuaaly.$dirty">-->
                                                        <!--<p ng-show="filingHouseProperty.propTaxAnuaaly.$error.pattern"-->
                                                           <!--class="help-block">-->
                                                            <!--Amount in rupees-->
                                                        <!--</p>-->
                                                        <!--<p ng-show="filingHouseProperty.propTaxAnuaaly.$error.min"-->
                                                           <!--class="help-block">-->
                                                            <!--Minimum amount is Rs.100-->
                                                        <!--</p>-->
                                                        <!--<p ng-show="filingHouseProperty.propTaxAnuaaly.$error.max"-->
                                                           <!--class="help-block">-->
                                                            <!--Maximum amount is 1 crore-->
                                                        <!--</p>-->
                                                    <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        </div>
                                        <div ng-show="housePropertyData.propType == 'rented'">
                                            <div class="form-group required"
                                                 ng-class="{ 'has-error' : filingHouseProperty.tenantName.$invalid && filingHouseProperty.tenantName.$dirty }">
                                                <label class="control-label col-sm-5">Name of the tenant </label>
                                                <div class="col-sm-6">
                                                    <input type="text" id="tenantName" class="form-control"
                                                           name="tenantName"
                                                           ng-model="housePropertyData.tenantName"
                                                           ng-pattern="/^[a-zA-Z\s]*$/"
                                                           ng-minlength="1"
                                                           ng-maxlength="50"
                                                           placeholder="Enter name of the tenant "
                                                           ng-required="housePropertyData.propType === 'rented' "
                                                    />
                                                    <div ng-show="filingHouseProperty.tenantName.$invalid && filingHouseProperty.tenantName.$dirty">
                                                        <p ng-show="filingHouseProperty.tenantName.$error.required"
                                                           class="help-block">
                                                            Name is required
                                                        </p>
                                                        <p ng-show="filingHouseProperty.tenantName.$error.pattern"
                                                           class="help-block">
                                                            Name is invalid
                                                        </p>
                                                        <p ng-show="filingHouseProperty.tenantName.$error.minlength"
                                                           class="help-block">
                                                            Name should Atleast 1 Character
                                                        </p>
                                                        <p ng-show="filingHouseProperty.tenantName.$error.maxlength"
                                                           class="help-block">
                                                            Name cannot exceed 50 characters
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group"
                                                 ng-class="{ 'has-error' : filingHouseProperty.tenantPAN.$invalid && filingHouseProperty.tenantPAN.$dirty }">
                                                <label class="control-label col-sm-5">PAN of the tenant</label>
                                                <div class="col-sm-6">
                                                    <input type="text" id="tenantPAN" class="form-control"
                                                           name="tenantPAN"
                                                           ng-model="housePropertyData.tenantPAN"
                                                           ng-pattern="/^([a-zA-Z]{3})(p|P)([a-zA-Z]{1})(\d{4})([a-zA-Z]{1})$/"
                                                           placeholder="Enter PAN of the tenant  "
                                                    />
                                                    <div ng-show="filingHouseProperty.tenantPAN.$invalid && filingHouseProperty.tenantPAN.$dirty">
                                                        <p ng-show="filingHouseProperty.tenantPAN.$error.pattern"
                                                           class="help-block">
                                                            Invalid PAN
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group required"
                                                 ng-class="{ 'has-error' : filingHouseProperty.annualRent.$invalid && filingHouseProperty.annualRent.$dirty }">
                                                <label class="control-label col-sm-5">Annual rent received during the
                                                    financial year </label>
                                                <div class="col-sm-6">
                                                    <input type="number" id="annualRent" class="form-control"
                                                           name="annualRent"
                                                           ng-model="housePropertyData.rent"
                                                           ng-pattern="/^[0-9]*$/"
                                                           min="100" max="50000000"
                                                           placeholder="Enter annual rental income "
                                                           ng-required="housePropertyData.propType === 'rented'"
                                                    />
                                                    <span ng-hide="filingHouseProperty.annualRent.$invalid && filingHouseProperty.annualRent.$dirty"
                                                          class="help-block">{{rentInWords}}</span>
                                                    <div ng-show="filingHouseProperty.annualRent.$invalid && filingHouseProperty.annualRent.$dirty">
                                                        <p ng-show="filingHouseProperty.annualRent.$error.pattern"
                                                           class="help-block">
                                                            Amount in rupees
                                                        </p>
                                                        <p ng-show="filingHouseProperty.annualRent.$error.min"
                                                           class="help-block">
                                                            Amount cannot be lower than 100
                                                        </p>
                                                        <p ng-show="filingHouseProperty.annualRent.$error.max"
                                                           class="help-block">
                                                            Amount cannot exceed 5 crore
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    <div class="form-group" ng-show="housePropertyData.propType == 'deemedLetOut' || housePropertyData.propType == 'rented'"
                                         ng-class="{ 'has-error' : filingHouseProperty.propertyTax.$invalid && filingHouseProperty.propertyTax.$dirty }">
                                        <label class="control-label col-sm-5">Property taxes paid during the
                                            year</label>
                                        <div class="col-sm-6">
                                            <input type="number" id="propertyTax" class="form-control"
                                                   name="propertyTax"
                                                   ng-model="housePropertyData.propTax"
                                                   ng-pattern="/^[0-9]*$/"
                                                   min="100" max="10000000"
                                                   placeholder="Enter property tax amount paid in current year"
                                            />
                                            <span ng-hide="filingHouseProperty.annualRent.$invalid && filingHouseProperty.annualRent.$dirty"
                                                  class="help-block">{{annualRentInWords}}</span>
                                            <div ng-show="filingHouseProperty.propertyTax.$invalid && filingHouseProperty.propertyTax.$dirty">
                                                <p ng-show="filingHouseProperty.propertyTax.$error.pattern"
                                                   class="help-block">
                                                    Amount in rupees
                                                </p>
                                                <p ng-show="filingHouseProperty.propertyTax.$error.min"
                                                   class="help-block">
                                                    Amount cannot be lower than 100
                                                </p>
                                                <p ng-show="filingHouseProperty.propertyTax.$error.max"
                                                   class="help-block">
                                                    Amount cannot exceed 1 crore
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- /end of yes question-->
                                    <!-- 2nd question-->
                                    <div class="form-group required">
                                        <label class="control-label col-sm-5">Is there a home loan on the
                                            property?</label>
                                        <div class="col-sm-6">
                                            <label class="checkbox-inline" for="home_loan_yes">
                                                <input icheck type="radio" id="home_loan_yes" name="homeLoan"
                                                       ng-model="housePropertyData.loan" value="yes">
                                                Yes
                                            </label>
                                            <label class="checkbox-inline" for="home_loan_no">
                                                <input icheck type="radio" id="home_loan_no" name="homeLoan"
                                                       ng-model="housePropertyData.loan" value="no">
                                                No
                                            </label>
                                        </div>
                                    </div>
                                    <!-- If user select yes then this set of question will appear-->
                                    <div ng-show="housePropertyData.loan == 'yes'">
                                        <div class="form-group required"
                                             ng-class="{ 'has-error' : filingHouseProperty.interestPaidHome.$invalid && filingHouseProperty.interestPaidHome.$dirty }">
                                            <label class="control-label col-sm-5">Interest paid on home loan during the
                                                financial year</label>
                                            <div class="col-sm-6">
                                                <input type="number" id="interestPaid" class="form-control"
                                                       name="interestPaidHome"
                                                       ng-model="housePropertyData.loanInterest" ng-pattern="/^[0-9]*$/"
                                                       min="100" max="50000000"
                                                       placeholder="Enter interest paid during the financial year"
                                                       ng-required="housePropertyData.loan == 'yes'"
                                                />
                                                <span ng-hide="filingHouseProperty.interestPaidHome.$invalid && filingHouseProperty.interestPaidHome.$dirty"
                                                      class="help-block">{{loanIntInWords}}</span>
                                                <div ng-show="filingHouseProperty.interestPaidHome.$invalid && filingHouseProperty.interestPaidHome.$dirty">
                                                    <p ng-show="filingHouseProperty.interestPaidHome.$error.pattern"
                                                       class="help-block">
                                                        Invalid amount
                                                    </p>
                                                    <p ng-show="filingHouseProperty.interestPaidHome.$error.required"
                                                       class="help-block">
                                                        Amount is required
                                                    </p>
                                                    <p ng-show="filingHouseProperty.interestPaidHome.$error.min"
                                                       class="help-block">
                                                        Amount cannot be lower than Rs.100
                                                    </p>
                                                    <p ng-show="filingHouseProperty.interestPaidHome.$error.max"
                                                       class="help-block">
                                                        Amount cannot exceed 5 crore
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <div class="form-group "
                                             ng-class="{ 'has-error' : filingHouseProperty.adjustedInterest.$invalid && filingHouseProperty.adjustedInterest.$dirty }">
                                            <label class="control-label col-sm-5">Is there any interest to be adjusted
                                                from pre-possession period?</label>
                                            <div class="col-sm-6">
                                                <label class="checkbox-inline" for="home_intrst_paid_yes">
                                                    <input icheck type="radio" id="home_intrst_paid_yes" name="interestPaid"
                                                           ng-model="housePropertyData.prePossInterest" value="yes">
                                                    Yes
                                                </label>
                                                <label class="checkbox-inline" for="home_intrst_paid_no">
                                                    <input icheck type="radio" id="home_intrst_paid_no" name="interestPaid"
                                                           ng-model="housePropertyData.prePossInterest" value="no">
                                                    No
                                                </label>
                                            </div>
                                        </div>
                                </div>
                            </div>
                            <input type="hidden" id="_id" name="_id" ng-model="housePropertyData._id"/>
                            <div class="form-group required" style="text-align: center;">
                                <button class="btn btn-sm btn-primary" ng-disabled="filingHouseProperty.$invalid || !formEditable"
                                        ng-click="submitFinTaxHouseProp()"><strong>Save</strong></button>
                                <button class="btn btn-sm btn-primary"
                                        ng-click="cancelProperty()"><strong>Cancel</strong></button>
                            </div>
                        </form>
                    </div>
                    <div ng-hide="AddProp">
                        <table class="table table-striped table-bordered">
                            <thead>
                            <tr>
                                <th>House Type</th>
                                <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="houseProp in propertyList track by $index">
                                <td>{{ housePropUI(houseProp.propType) }}</td>
                                <td>
                                    <a ng-click="edit(houseProp._id)">edit</a> |
                                    <a ng-click="delete(houseProp._id)">delete</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="text-center">
                            <button ng-hide="propertyList.length == 3"
                                    class="btn btn-sm btn-primary goal-button-margin" ng-disabled="!formEditable" ng-click="addProperty()"><strong>Add
                                property</strong></button>
                            <button class="btn btn-sm btn-primary" ng-disabled="!formEditable" ng-click="submitHouseProp()"><strong>Save</strong>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .form-group {
        margin-top: 20px !important;
    }
</style>